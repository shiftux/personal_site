<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <!-- for mobile sites -->
	<title>Welcome to Sandro's site</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<link href="../stylesheets/style.css" rel="stylesheet">
    <link href="../stylesheets/blog_style.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Roboto:500" rel="stylesheet" type="text/css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-179255623-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-179255623-1');
    </script>
    <!-- Hotjar Tracking Code for sandromontanari.com -->
	<script>
		(function(h,o,t,j,a,r){
			h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
			h._hjSettings={hjid:2016932,hjsv:6};
			a=o.getElementsByTagName('head')[0];
			r=o.createElement('script');r.async=1;
			r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
			a.appendChild(r);
		})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
	</script>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="50">

<section id="navbarSection" style="padding-bottom: 100px;"></section>

<section id="introImageSection">
    <div id="introCarousel" class="carousel slide" data-ride="carousel">
        <ul class="carousel-indicators">
            <li data-target="#introCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#introCarousel" data-slide-to="1"></li>
            <li data-target="#introCarousel" data-slide-to="2"></li>
        </ul>
        <div class="carousel-inner active">
            <div class="carousel-item active">
                <img src="../images/redox_keyboard_carousel_1.jpg">
            </div>
            <div class="carousel-item">
                <img src="../images/redox_keyboard_carousel_2.jpg">
            </div>
            <div class="carousel-item">
                <img src="../images/redox_keyboard_carousel_3.png">
            </div>
        </div>
        <a class="carousel-control carousel-control-prev" href="#introCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control carousel-control-next" href="#introCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</section>

<section class="blue-text view-width">
    <div class="container-fluid padding blue-text">
		<div class="row text-center">
			<div class="col-12 heading-row">
				<h1 class="heading">My journey to building a customized ergonomic split keyboard</h1>
			</div>
		</div>
    </div>
    <p><small>Published Mai 2021</small></p>
    <h4>Motivation</h4>
    <p>
        When you're working in IT the keyboard is the thing you spend most of your time with. Having one of your very own, that you build and customized for your personal needs, feels natural. Additionally it's a cool project involving electronics, programming and CAD design and makes for a great occupation during Covid times.
    </p>

    <!-- <div class="row">
        <div class="video-frame">
            <iframe src="https://www.youtube.com/embed/ZzHkn_32jh8"></iframe>
        </div>
    </div> -->

    <h4>The Journey</h4>
    <p>Who knows how many keyboards are out there?! A BIG number... So which type do you want to go for? A coworker raised the question on our random Slack channel and mentioned a couple of ergonomic keyboards, amongst them there was the Dactyl-Manuform (See my <a href="dactyl_keyboard.html">old blog post</a> for all details). It's an open-source project of an ergonomic split keyboard. I liked the design and the open source approach and read good things about it. So I decided to go for that. In retrospect that decision was taken a bit over eagerly, I should have tested it out further before settling on one, because let me assure you that ergonomic split keyboards are a BIG change compared to what you're used to.<br><br>

    I thought I would get the hang of it and that with time I‘d just get used to it, but I did not. It ended up collecting dust while I continued using my Mac Magic Keyboard. The main drawback was that the curvature didn‘t really fit my hands, I kept pressing next to the keys with my pinky fingers and also the front to back curvature seemed weird. Now those are all things you can change in an open source keyboard, but I didn‘t feel like going through several iterations to find all the right parameters.
    <div class="row">
        <div class="col-sm-12 text-center">
            <img src="../images/redox_vs_dactyl.jpg" width="100%">
            <p class="caption">Comparing the Redox (preferred) and the Dactyl (first try) keyboards</p>
        </div>
    </div>
    After letting everything rest for a while I still felt like continuing the self-built keyboard idea and with some more research stumbled across the <a href="https://hackaday.io/project/160610-redox-keyboard">Redox</a> project. This time I printed out a keyboard layout and let my fingers rest on it as naturally as I could and checked how the curvature of the key arrangement compared to my hands. It seemed to have a much nicer fit without tuning too many parameters and it is built flat, with curvature optionally added by its adjustable legs. This all sounded and looked good, so I went with the Redox for my second try and have not regretted it so far (typing on it right now). </p>

    <h4>The keyboard</h4>
    <p>The Redox is an ergonomic split keyboard, meaning there are two sides (each with its own microcontroller) which are connected via a cable. I prefer to have media and some mouse control on my keyboard, so I modified it to accommodate media keys, a volume knob and a scroll wheel. </p>
    <div class="row">
        <div class="col-sm-12 text-center">
            <img src="../images/redox_keyboard_custom_arrows.jpg" width="100%">
            <p class="caption">My customizations to the keyboard</p>
        </div>
    </div>
    <h4>The Build</h4>
    <b>Research and selection</b><br>
    <p>
        Again, do your research. Make sure you know what type of keyboard you feel comfortable with and what is important to you. Try not to do what I did and go through the whole thing twice...<br><br>

        Irrelevant of what model you want to build, the first thing you need to find out is what types of keys (switches) you want to use. There are a couple of brands and all have different types of keys, some harder, some softer to the touch, some with mechanical feedback, some without, some "clicky" (noisy), some not... You won't know what feels good until you tried. I bought a <a href="https://www.amazon.com/Cherry-Switch-Tester-keyboard-Sampler/dp/B01GZHU1EG/ref=sr_1_1?dchild=1&keywords=AKWOX+key+tester&qid=1600942315&sr=8-1">key tester</a> and an additional <a href="https://www.pcgamingrace.com/products/glorious-mx-switch-sample-pack">set of trial keys</a> to test them. Not an easy task, I changed my mind a couple of times over in the process and had other people try it all out. In the end I chose the <a href="https://www.digitec.ch/de/s1/product/glorious-pc-gaming-race-kailh-pro-purple-switches-120-stueck-maus-tastatur-zubehoer-12826227">Kailh Purple Switches</a>. When in doubt I could also recommend the Cherry MX Red, which are always a safe choice (but also way too mainstream ;).
    </p>
    <div class="row">
        <div class="col-sm-12 text-center">
            <img src="../images/keyboard_key_testing.jpg" width="100%">
            <p class="caption">Testing out which keys feel best</p>
        </div>
    </div>
    <b>CAD</b><br>
    <p>
        The Redox has open source <a href="http://www.openscad.org/">OpenSCAD</a> files that allow you to adapt the keyboard to your liking. It makes it easy for you to change the ergonomic parameters, such as curvature and height, but also allows you to customize your build to your liking. Me I knew I wanted to add multimedia control keys, a volume knob and a scroll knob. I had to read a bit about OpenSCAD, but the learning is pretty straight forward and you can basically get the job done by looking at the existing code and copy-pasting plus adapting some parts. Additionally I changed the USB plug hole to fit a short shape cable, which is much sturdier than the microcontroller‘s on-bard micro-USB port. And I included holes for the TRS mini-jack connectors I wanted to use to connect the 2 keyboards.
    </p>
    <div class="row">
        <div class="col-sm-12 text-center">
            <img src="../images/redox_keyboard_openscad.png" width="100%">
            <p class="caption">The CAD model</p>
        </div>
    </div>
    <b>Printing</b><br>
    <p>
        Once you are happy with your CAD files go ahead and print all parts of your keyboard. This takes a while, they're relatively big parts for printers to handle. For a nicer finish, after printing you can sand down your parts and then paint them. Personally I didn't I enjoy the rougher finish of a printed PLA part.
    </p>
    <div class="row">
        <div class="col-sm-12 text-center">
            <img src="../images/redox_keyboard_connectors.jpg" width="100%">
            <p class="caption">The connectors: a TRS mini-jack to connect the two split sides and a single micro-USB cable for power and to transmit data</p>
        </div>
    </div>
    <b>Soldering</b><br>
    <p>
        Clearly the trickiest part of it all (but that might just be me, my soldering skills are mediocre). Basically a keyboard can be considered as a matrix of rows and columns, the switches are the elements in the matrix. Let's say switch "1" is on row 1, column 1, "w" is on row 2, column 2, etc. Pressing a switch will connect a row and column and that's how the microcontroller will know what key was pressed. Additionally diodes are added to every switch so that you can press 2 keys at the same time and it remains a unique detectable combination. All keys need 2 connections, diodes and microcontroller connections, for 64 keys you solder 216 connections, not counting the multimedia, rotary encoder and mini-jack connectors. I used a technique where I prepared cables with partially removed insulation sleeves at the soldering points (nicely explained here). This takes quite some perperation work, but is more stable than the copper wire technique i used in the <a href="dactyl_keyboard.html">Dactyl assembly</a> and is much less a risk of false connections, since most of all wires remain insulated compared to the open copper wire.
    </p>
    <div class="row">
        <div class="col-md-6 text-center">
            <img src="../images/redux_partially_insulated_cables.png" width="100%">
            <p class="caption">Partially de-insulated cables</p>
        </div>
        <div class="col-md-6 text-center">
            <img src="../images/redox_keyboard_soldering.jpg" width="100%">
            <p class="caption">The soldered switches</p>
        </div>
    </div>
    <b>Programming</b><br>
    <p>
        When selecting a microcontroller (in a split keyboard it's easiest to work with 2) make sure you select one on which you can run the <a href="https://www.arduino.cc/reference/en/language/functions/usb/keyboard/">Arduino keyboard library</a> (32u4 or SAMD micro based boards), I used <a href="https://www.sparkfun.com/products/12640">Sparkun Pro Micros</a>. For the actual programming a lot of the work is already done for you in the great <a href="https://qmk.fm/">QMK project</a>. The Redox is already in the library and I made an extension to it which handles the additional media keys. So for future users now all that remains to do is to define a keyboard layout which fits your hand's desire. Just for fun you cxn trick your brxin xnd progrxm the "x" key on the "a" switch xnd then your teat looks like this. Basically you have complete freedom of how your layout will look, you'll just have to retrain your fingers to be as quick on the new layout as you were on a traditional QWERTY or QWERTZ in my case.
    </p>

    <h4>Code, parts and resources</h4>
    A bill of material, the CAD files, programming instructions, wiring diagrams as well as more detailed instructions can be found on my <a href="https://github.com/shiftux/redox-media-keyboard">Github repo</a>.<br>
    I've also opened a pull request on the QMK repo, where I share the keyboard layout and the programing instructions <a href="https://github.com/qmk/qmk_firmware/tree/master/keyboards/redox/">here</a>.
    <h4 id="conclusion">Conclusion and lessons learned</h4>
    I had a ton of fun building my keyboard and for the past couple of months I've been using it without ever wanting to go back to my old keyboard. <br>
    My biggest piece of advice I can give you is to find someone with a split ergonomic keyboard and test it out. During the build process I tried to test it several times, just inserting the switches into the case to see how it all felt. But at that time I hadn't received the keycaps and didn't have an old keyboard laying around to borrow them from. In the end it felt completely different on the real thing and on the Dactyl it turned out that it did not fit hands or my feel of what should be ergonomic. <br>
    I'm happy I went through the pain of taking the Dactyl back apart and building the Redox. Since it's standing on my desk I'm loving it and it has brought me great joy to be typing on my self-built customized keyboard.
</section>

<!--- Footer -->
<footer id="footer" class="blue-background"></footer>

<!--- Bootstrap scripts inclusions -->
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha384-/LjQZzcpTzaYn7qWqRIWYC5l8FWEZ2bIHIz0D73Uzba4pShEcdLdZyZkI4Kv676E" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script> <!-- for social media icons -->

<!-- include navbar -->
<script>
    window.onload = function () {
        $("#navbarSection").load("../index.html #navbarSection");
        $("#footer").load("../index.html #footer");    }
</script>

<!-- make navbar appear after scroll, and adapt for mobile -->
<script src="../javascripts/navbar_after_scroll.js"></script>

</body>
</html>
